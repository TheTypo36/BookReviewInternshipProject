generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}



model Book{
  id                Int @default(autoincrement()) @unique
  name              String 
  description       String
  coverImg          String
  Author            String
  release_date      DateTime
  sale              String
  userId            Int
  reviews           Review[]
  user              User @relation(fields: [userId], references: [id]) // foreign key to user's id

  
}

model User{
  id        Int @default(autoincrement()) @unique
  name      String
  books     Book[] 
  reviews   Review[]

}

model Review{
    id            Int @default(autoincrement()) @unique
    content       String
    createdAt     DateTime @default(now())
    rating        Int
    userId        Int
    bookId        Int
    book          Book @relation(fields: [bookId], references: [id]) //foreign key to book's id
    user          User @relation(fields: [userId], references: [id]) //foreign key to user's id
}